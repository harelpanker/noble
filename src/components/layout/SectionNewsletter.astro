<section class='bg-black px-5 lg:px-8 pt-4 pb-12 lg:pt-6 lg:pb-10'>
  <div class='container max-w-[46rem] mx-auto'>
    <form
      name='Subscribe'
      method='POST'
      data-netlify='true'
      netlify-honeypot='_honey'
      class='w-full flex gap-x-4 flex-col md:flex-row gap-y-4'>
      <input
        class='grow h-12 px-3 rounded input placeholder:text-black/85'
        type='email'
        name="'email"
        placeholder='Enter your email to stay up to date with our product roadmap'
        required
      />
      <input type='text' name='_honey' style='display:none' />
      <button
        type='submit'
        class='h-12 px-4 text-lg text-black bg-white hover:bg-white/85 rounded transition'>
        Subscribe
      </button>
    </form>
  </div>
</section>

<script>
  const form = document.querySelector('form');
  const submitButton = document.querySelector(
    'button[type="submit"]'
  ) as HTMLButtonElement;
  const input = document.querySelector('.input') as HTMLInputElement;
  const windowWidth = window.innerWidth;

  if (windowWidth < 1024) {
    input?.setAttribute('placeholder', 'Your email address');
  }

  form?.addEventListener('submit', () => {
    input!.value = '';
    input?.setAttribute(
      'placeholder',
      'Thank you! Your submission has been received!'
    );
    submitButton!.disabled = true;
  });
</script>
